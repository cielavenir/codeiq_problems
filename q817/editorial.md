2014年3月31日～2014年4月21日の期間、C++の間違い探しというC++問題を出題しました。
34名の方が挑戦してくださいました。

## お詫び
問4において、ポイントを減らす操作を必ず0人目から行ってしまっていました。大変申し訳ございませんでした。spring_jasmine様、majiponi様、tellko様、ご指摘ありがとうございます。

## データセット等
<https://github.com/cielavenir/codeiq_problems/tree/master/q817>
で公開しています。
採点はcheck.rbを用いてコンパイル及びdiff採取を行い、diffのみを目視して行いました。

## 解説
ソースを読んで修正する能力を問う問題でした。

### 問1
組み合わせの数を、順番に掛けて割ることで求めるのはオーバーフローを防ぐための常套手段ではありますが、整数除算の取り扱いに注意する必要があります。

~~~cpp
r*=(n-i)/(i+1);
~~~

を

~~~cpp
r=r*(n-i)/(i+1);
~~~

に変更すれば正解となります。
なお、doubleに変換して求めてくださった方が何名かいらっしゃいましたが、今回は誤差が発生しますので正解になりません。

### 問2
next_permutation()は与えられた列が辞書順で最大の時、列を反転させるとともに偽を返します。
このため、全ての順列を得るには予めソートしておかなければなりません。

~~~cpp
sort(w.begin(),w.end());
~~~

をdo{...}の前に追加すれば正解となります。

### 問3
折角会計時間の時を計算しているのに、集計は入店時間の時で行ってしまっています。

~~~cpp
r[h]++;
~~~

を

~~~cpp
r[H]++;
~~~

に変更すれば正解となります。

### 問4
ポイントが0になった人を輪から出したあと、カーソルを変更する必要がありますが、どういうわけかカーソルが輪からはみ出した場合だけ前にずらしています。
前にずらす操作は必ず行わなければなりません。

~~~cpp
if(c==v.size())c--;
~~~

を

~~~cpp
c--;
~~~

に変更すれば正解となります。

また、uwi様、yaslab様は

~~~cpp
if(--c < 0)c = v.size()-1;
~~~

という別解を示してくださいました。
cは減らすことで一旦-1になることがありえます。直後にforループによりcに加算が行われますが、こちらの実装のほうがより安全と言えます。
ありがとうございます。

## 最後に
今回は4問とも、私が過去に **3WA (Wrong Answer)** 以上出したことのある問題から、そのWAの原因について改題して出題しています。
プログラミングコンテストでは、Sample Inputによるデバッグは限りがありますので、やはりバグのないプログラムを書くことが重要となります。
是非普段から気をつけていただければと思います。
あと、私も出題の際気をつけます…。

## 問題文

プログラミングの課題が出ました。

----

- Problem 1: combination

n個の物からk個を選び出す選び方、nCkを求めなさい。

- Problem 2: permutation

数列が与えられるので、その順列を全て求めなさい。ただし、重複があってはいけない。

- Problem 3: log

あるレストランは、伝票を入店時刻(時・分)および会計時刻の分で管理している。
これら3つの値が複数与えられるので、1時間区切りで最も多く会計が行われた回数を求めなさい。
なお、会計は入店から10分後から50分後までに行われることがわかっているものとする。

- Problem 4: joseph

n人の人が円形に座っている。(0-indexed)
各人はあるポイントを持っている。
0人目から数えてd人先の人をポイントを1減らす。
もしポイントが0になったら、その人を円から外す。
またd人先の人のポイントを1減らし、0になったら円から外す。
これを座っている人数が1人になるまで繰り返す。
最後に残った人が勝ちとなる。
nとd、および各人のポイントが与えられるので勝者の番号を答えなさい。

----

あなたは優秀ですからこのプログラムを簡単に解いてしまいました。
しかし、友人は困っているようです。
自分でプログラムを形にすることはできたのですが、あろうことか一部の入力にしか答えることができていません。
このままでは課題を提出することができません。
どこが間違っていてどうすれば直せるのか教えてあげて下さい。

知人が傷つかないよう、すべきことはあくまでも間違いを指摘することです。このため、

- comb関数
- permutation関数
- log関数
- joseph関数

のそれぞれについて、以下のうち、いずれか1つを行って下さい。

- 1行を変更すること
- 1行を削除すること
- 1行を追加すること

その上で、input.txtに対する出力がoutput.txtと同一になるようにして下さい。

### 解答方法
本アーカイブ中のspotmistake_wrong.cppを書き換えて下さい。
書き換えた後のソースを、拡張子を.txtに変更してアップロードして下さい。

### 評価
提出1点+(正解数)点となります。Problem1〜4までありますので5点満点です。
